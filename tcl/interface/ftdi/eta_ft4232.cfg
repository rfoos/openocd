#
# Derived from DP KT-link designed for FT2232.
# This one works on FT4232.
#
# Dangerous Prototypes - Bus Blaster (with KT-Link buffer)
#
# The Bus Blaster has a configurable buffer between the FTDI FT2232H
# and the JTAG header which allows it to emulate various debugger
# types. This config works with KT-Link compatible implementation from
# https://github.com/bharrisau/busblaster and is SWD-enabled.
#
# http://dangerousprototypes.com/docs/Bus_Blaster
#

interface ftdi
#ftdi_device_desc "Quad FT4232H"
ftdi_vid_pid 0x0403 0x6011

ftdi_layout_signal SWD_EN -ndata 0x0020 -oe 0x2000

ftdi_layout_init 0x8c58 0xffab

# Signals
# Use GPIOL7 as SWDIO_OE control
ftdi_layout_signal SWDIO_OE -ndata 0x80
# Use GPIOL4 as nSRST
ftdi_layout_signal nSRST -oe 0x10

